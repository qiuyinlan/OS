1.为什么是4kb
[[c5代码]]
# **问题 1：物理内存容量检测**

## 在保护模式下，CPU 和操作系统如何获取物理内存的大小？

[[物理内存容量检测]]


---

### **问题 2：内存分页机制**

[[虚拟内存-分页的原因]]
[[分页机制&PDEPTE]]
[[cpu硬件]]
[[虚拟内存到物理内存的转换]]

[[页表的规划]]
- 为什么操作系统要使用分页机制？
    
- 一级页表和二级页表是如何组织和工作的？
    
- 快表（TLB）在分页机制中起什么作用？

- 操作系统如何规划页表，使内核和用户进程可以安全地使用虚拟地址？
    
- 如何从虚拟地址转换到物理地址？


---

### **问题 3：内核加载**

[[内核的语言]]
[[ELF文件]]
[[段和页]]
[[段]]

[[ELF结构]]
[[内核加载时-地址]]
- 为什么内核要用 C 写，而不是全汇编？
    
- ELF 文件是什么格式，和普通二进制有啥区别？
    
- ELF 文件在内存中怎么展开？
    
- loader 是怎么把内核加载进内存、准备运行的？

- 内核二进制文件（kernel.bin）是如何在内存中被展开的？
    
- ELF 文件格式的结构及各段（segment）在内存中的映射方式是什么？
    
- 内核初始化时，虚拟地址和物理地址的关系如何？
    

---

### **问题 4：特权级（Privilege Level）**

[[特权级]]
[[门]]
[[TSS]]

- CPL、DPL 和 RPL 的含义是什么？它们如何影响程序访问段？
为什么要有四个特权级？

- 什么是门（Gate）、调用门（Call Gate）？它们如何保护特权级转移过程？
    
- TSS（任务状态段）在保护模式下的作用是什么？
    
- IO 特权级（IOPL）是什么，它如何限制访问 I/O 端口？是怎么控制外设访问权限的？