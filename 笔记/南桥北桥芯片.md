# 南桥北桥芯片

[[总线]] [[IO接口]] [[硬件]] [[内存]]

## 芯片组的作用

主板上的**芯片组 (Chipset)** 负责连接 CPU 和各种硬件设备。

传统上分为两个芯片：
- **北桥 (Northbridge / MCH)**：连接高速设备
- **南桥 (Southbridge / ICH)**：连接低速设备

```
       CPU
        │
    ┌───┴───┐
    │ 北桥  │ (Memory Controller Hub)
    └───┬───┘
        │
    ┌───┴────────┐
    │            │
  内存        显卡(PCI-E)
              │
          ┌───┴───┐
          │ 南桥  │ (I/O Controller Hub)
          └───┬───┘
              │
      ┌───────┼───────┐
      │       │       │
    硬盘    USB     PCI设备
  (SATA)
```

## 北桥芯片

### 北桥的作用

**北桥 (Northbridge)** 也称为 **MCH (Memory Controller Hub，内存控制器中心)**。

负责连接**高速设备**：

| 连接设备 | 总线类型 | 带宽 |
|---------|---------|------|
| **CPU** | 前端总线 (FSB) | 高速 |
| **内存** | 内存总线 (DDR) | 高速 |
| **显卡** | PCI-E | 高速 |

### 北桥的位置

- 物理上靠近 CPU
- 通常有**散热片**覆盖（因为发热量大）

### 北桥的消失

现代 CPU（尤其是 AMD）已经把北桥的功能**集成到 CPU 内部**：

- **内存控制器** → 集成到 CPU
- **PCI-E 控制器** → 集成到 CPU

好处：
- 减少 CPU 和北桥之间的延迟
- 提高内存访问速度
- 降低成本

参见：[[CPU执行指令]]

## 南桥芯片

### 南桥的作用

**南桥 (Southbridge)** 也称为 **ICH (I/O Controller Hub，输入输出控制中心)**。

负责连接**低速设备**和**IO 接口**：

| 集成功能 | 说明 |
|---------|------|
| **SATA 控制器** | 连接硬盘 |
| **USB 控制器** | 连接 USB 设备 |
| **PCI 总线** | 连接 PCI 设备（声卡、网卡）|
| **音频控制器** | 集成声卡 |
| **网络控制器** | 集成网卡 |
| **电源管理** | ACPI 电源管理 |
| **LPC 总线** | 连接 BIOS ROM、超级 IO |

参见：[[IO接口]] [[硬盘]]

### 南桥的名称由来

- **"桥" (Bridge)**：连接不同总线的桥梁
- 对应英文 **Hub**：集合、中心

### 南桥的位置

- 物理上远离 CPU
- 通常在主板下方

## 为什么需要南桥？

### 问题：IO 接口竞争

同一时刻，CPU 只能和一个 [[IO接口]] 通信。

当多个 IO 接口同时想和 CPU 对话时怎么办？

### 解决方案：南桥仲裁

> 分层能解决问题，咱们再加一层！

南桥的责任：
1. **仲裁 IO 接口的竞争**
2. **连接各种内部总线**

### 南桥的工作方式

```
CPU → 内部总线 → 南桥 → 外部总线 → IO接口 → 外设
```

- CPU 通过**专用内部总线**连接到南桥
- 南桥内部集成多个 IO 接口
- 南桥通过不同的总线连接外部设备

参见：[[总线]]

## 南桥的内部结构

### 集成的IO接口

南桥内部集成了常用的 IO 接口：

```
       南桥
        │
    ┌───┼────────────┐
    │   │    │       │
  SATA USB  PCI   音频/网卡
    │   │    │
  硬盘 U盘  声卡/网卡
```

这些接口对微型计算机来说**必不可少**，所以直接集成在南桥内部。

### 未集成的IO接口

- **显卡**：需要高带宽，连接到北桥（或直接连 CPU）
- **扩展声卡/网卡**：通过 PCI/PCI-E 插槽连接

## 北桥 vs 南桥

| 对比项 | 北桥 | 南桥 |
|-------|------|------|
| **连接设备** | CPU、内存、显卡 | 硬盘、USB、PCI、音频 |
| **速度** | 高速 | 低速 |
| **发热** | 大（需要散热片）| 小 |
| **位置** | 靠近 CPU | 远离 CPU |
| **现状** | 很多已集成到 CPU | 仍然独立存在 |

## 南桥与 CPU 的连接

### 专用内部总线

- CPU 通过**内部总线**连接到南桥
- 这个总线是**专用**的，只通向南桥中的 CPU 接口

### 数据传输路径

```
CPU ← 内部总线 → 南桥 (CPU接口)
                  │
              ┌───┴───┐
          SATA总线  USB总线
              │       │
            硬盘     U盘
```

## 现代芯片组的演进

### Intel 平台

#### 老式架构（北桥 + 南桥）

```
CPU → 北桥 (MCH) → 南桥 (ICH)
      ├─ 内存
      └─ 显卡
                    ├─ 硬盘
                    ├─ USB
                    └─ PCI
```

#### 现代架构（单芯片组 PCH）

```
CPU (集成内存控制器 + PCI-E)
 ├─ 内存
 ├─ 显卡 (PCI-E)
 └─ PCH (Platform Controller Hub)
     ├─ 硬盘 (SATA)
     ├─ USB
     └─ PCI
```

- 北桥功能 → 集成到 CPU
- 南桥 → 改名为 **PCH (Platform Controller Hub)**

### AMD 平台

AMD 更早地将北桥集成到 CPU：

```
AMD CPU (集成内存控制器)
 ├─ 内存
 ├─ 显卡 (PCI-E)
 └─ FCH (Fusion Controller Hub)
     ├─ 硬盘
     ├─ USB
     └─ PCI
```

## 总结

### 芯片组的核心作用

1. **连接 CPU 和各种硬件**
2. **仲裁总线竞争**
3. **提供 IO 接口**

### 北桥 (Northbridge / MCH)

- 连接**高速设备**：CPU、内存、显卡
- 现代 CPU 已集成北桥功能

### 南桥 (Southbridge / ICH)

- 连接**低速设备**：硬盘、USB、PCI
- 集成常用 IO 接口
- 仲裁 IO 接口的竞争
- 现代叫 **PCH** 或 **FCH**

### 演进趋势

```
北桥 + 南桥 → 单芯片组 (CPU集成 + PCH/FCH)
```

参见：[[总线]] [[IO接口]] [[硬件]]
